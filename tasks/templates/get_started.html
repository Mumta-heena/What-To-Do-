{% extends 'base.html' %} {% block content %}
<div class="container py-5">
  <h1>Get Started</h1>
  <a href="{% url 'task_create' %}" class="btn btn-success">Add Task</a>
</div>

<!-- AJAX Script to Dynamically Update Task List -->
<script>
  // Function to load tasks dynamically into the task list container
  function loadTaskList() {
    $.ajax({
      url: "{% url 'task_list' %}", // The URL where the task list is served
      type: "GET",
      success: function (response) {
        // Update the task list content dynamically
        $("#task-list-container").html(
          $(response).find("#task-list-container").html()
        );
      },
      error: function (xhr, status, error) {
        console.log("Error loading tasks: " + error);
      },
    });
  }

  // Call this function on page load or after a task is added/removed
  $(document).ready(function () {
    loadTaskList();
  });
</script>

{% endblock %}
