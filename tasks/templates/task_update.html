{% extends 'base.html' %} {% block content %}
<div class="container py-5">
  <h2 class="text-teal mb-4">Edit Task</h2>
  <form method="post" class="needs-validation" novalidate>
    {% csrf_token %}

    <div class="mb-4">
      <label for="title" class="form-label">Task Title</label>
      <input
        type="text"
        class="form-control"
        id="title"
        name="title"
        required
        placeholder="Enter task title"
        value="{{ form.title.value }}"
      />
      <div class="invalid-feedback">Please provide a task title.</div>
    </div>

    <div class="mb-4">
      <label for="description" class="form-label">Description</label>
      <textarea
        class="form-control"
        id="description"
        name="description"
        required
        placeholder="Enter task description"
        rows="4"
      >
{{ form.description.value }}</textarea
      >
      <div class="invalid-feedback">Please provide a task description.</div>
    </div>

    <div class="mb-4">
      <label for="due_date" class="form-label">Due Date</label>
      <input
        type="datetime-local"
        class="form-control"
        id="due_date"
        name="due_date"
        required
        value="{{ form.due_date.value }}"
      />
      <div class="invalid-feedback">Please provide a due date.</div>
    </div>

    <button type="submit" class="btn btn-teal btn-lg mt-3">Update Task</button>
  </form>
</div>

<script>
  (function () {
    "use strict";
    var forms = document.querySelectorAll(".needs-validation");
    Array.prototype.slice.call(forms).forEach(function (form) {
      form.addEventListener(
        "submit",
        function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add("was-validated");
        },
        false
      );
    });
  })();
</script>
{% endblock %}
